/* =========================
   App.css (FINAL - NO PAGE SCROLL)
   - Page never scrolls
   - Card scrolls only when needed
========================= */

html, body, #root { height: 100%; }
body { margin: 0; padding: 0; overflow: hidden; } /* ✅ 수정: 페이지 스크롤 막기 */

#root {
  height: 100vh;                 /* ✅ 수정: min-height -> height */
  position: relative;
                                 /* ✅ 수정: 루트도 스크롤 막기 overflow: hidden; */

  background-image: url("/images/bg.jpg");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

#root::before {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(255, 255, 255, 0.62);
  pointer-events: none;
  z-index: 0;
}

#root > * { position: relative; z-index: 1; }

/* ✅ 수정: 컨테이너를 "화면 높이 안"에서만 레이아웃 */
.container {
  height: 100%;                  /* ✅ 수정: min-height -> height */
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 10px 16px;            /* ✅ 수정: 위 공간 더 줄이기 */
  text-align: center;
  font-family: "Jua", system-ui, sans-serif;
  box-sizing: border-box;
  width: 100%;
  max-width: 980px;     /* ✅ 화면에 따라 자동으로 */
  margin: 0 auto;       /* ✅ 가운데 정렬 */
}

/* ✅ 수정: 타이틀이 공간 많이 안 먹게 */
.title {
  margin: 4px 0 8px 0;           /* ✅ 수정 */
  font-size: 2.4rem;             /* ✅ 수정: 2.9 -> 2.4 (필요하면 2.6) */
  color: #4a3f35;
  font-family: "Gaegu", "Jua", cursive;
  font-weight: 700;
  text-shadow: 2px 2px 0px rgba(255, 217, 61, 0.65);
}

/* ✅ 추가: 타이틀(로고+글씨) 줄 정렬 */
.title-row{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:12px;
}

.title-logo{
  width: 52px;                   /* ✅ 수정: 로고 크기 */
  height: 52px;
  object-fit: contain;
  flex: 0 0 auto;
}

.story-title{
  font-family: "Gaegu", "Jua", cursive;
  font-weight: 700;
}

/* ✅ 수정: 카드가 화면을 넘치면 "카드 안"에서만 스크롤 */
.result-card {
  position: relative;
  margin-top: 8px;               /* ✅ 수정 */
  padding: 20px;                 /* ✅ 수정: 26 -> 20 */
  width: min(92vw, 820px);

  /* ✅ 핵심: 화면 안에 들어오도록 최대 높이 제한 */
  max-height: calc(100vh - 120px); /* ✅ 수정: 타이틀 영역 제외 */
  overflow: auto;                  /* ✅ 수정: 넘치면 카드만 스크롤 */

  background: rgba(255, 255, 255, 0.78);
  border: 1px solid rgba(234, 223, 200, 0.95);
  border-radius: 26px;
  box-shadow: 0 22px 50px rgba(0, 0, 0, 0.14);
  backdrop-filter: blur(6px);
  box-sizing: border-box;
}

.result-card::before {
  content: "";
  position: absolute;
  inset: 0;
  background:
    repeating-linear-gradient(
      0deg,
      rgba(0,0,0,0.02) 0px,
      rgba(0,0,0,0.02) 1px,
      rgba(255,255,255,0) 7px,
      rgba(255,255,255,0) 12px
    );
  opacity: 0.32;
  pointer-events: none;
}

.result-card::after {
  content: "";
  position: absolute;
  top: 12px;
  bottom: 12px;
  left: 14px;
  width: 10px;
  border-radius: 10px;
  background: linear-gradient(90deg, rgba(0,0,0,.12), rgba(0,0,0,0));
  opacity: 0.55;
  pointer-events: none;
}

/* ---- 내용 박스 ---- */
.story-box {
  text-align: left;
  line-height: 1.85;
  white-space: pre-wrap;
  font-size: 1.10rem;
  color: #3f352c;
  background: linear-gradient(#fffdf8, #fff7e9);
  padding: 16px 14px;            /* ✅ 수정: 살짝 줄임 */
  border-radius: 18px;
  border: 1px solid #eadfc8;
  box-shadow: inset 0 2px 6px rgba(0,0,0,0.04);
  letter-spacing: 0.2px;
}

/* ---- 버튼 ---- */
.btn {
  border: none;
  padding: 14px 28px;
  font-size: 18px;
  border-radius: 999px;
  cursor: pointer;
  margin: 0 10px;
  font-weight: 800;
  letter-spacing: -0.2px;

  background: linear-gradient(#ffffff, #f3efe4);
  border: 1px solid #e1d6be;
  color: #4a3f35;

  box-shadow: 0 10px 22px rgba(0,0,0,0.12);
  transition: transform .08s ease, box-shadow .18s ease, opacity .18s ease, background .18s ease;
}

.btn:hover { transform: translateY(-1px); box-shadow: 0 14px 28px rgba(0,0,0,0.14); }
.btn:active { transform: translateY(1px) scale(0.98); box-shadow: 0 8px 18px rgba(0,0,0,0.12); }
.btn:disabled { opacity: 0.55; cursor: not-allowed; box-shadow: none; }

.magic-btn { background: linear-gradient(#5aa8ff, #3d86ff); color: white; border: 2px solid #3d86ff; }
.magic-btn:hover { background: linear-gradient(#4b9fff, #2f79ff); }

.tts-btn { background: linear-gradient(#ffe8b8, #ffd24f); color: #3a342d; border: 2px solid #f0c05a; }
.stop-btn { background: linear-gradient(#b7b7b7, #9c9c9c); color: white; border: 2px solid #9c9c9c; }

/* ---- 스토리 이미지/책 ---- */
.story-illustration { width: 100%; max-width: 820px; margin: 0 auto 10px auto; }
.story-illustration-img { width: 100%; max-height: 240px; object-fit: cover; border-radius: 14px; box-shadow: 0 10px 25px rgba(0,0,0,0.10); } /* ✅ 수정: max-height 줄여서 한 화면에 잘 들어오게 */

.book { position: relative; width: 100%; max-width: 820px; margin: 0 auto; }
.page-sheet { position: relative; background: rgba(255,255,255,0.92); border-radius: 16px; padding: 18px 16px 40px 16px; min-height: 190px; box-shadow: 0 10px 25px rgba(0,0,0,0.12); } /* ✅ 수정 */
.page-text { font-size: 1.06rem; line-height: 1.7; margin: 0; text-align: left; letter-spacing: 0.2px; }
.page-counter { position: absolute; left: 0; right: 0; bottom: 12px; text-align: center; font-weight: 800; opacity: 0.75; }

@keyframes flipNext { 0% { transform: translateX(18px); opacity: 0.0; } 100% { transform: translateX(0); opacity: 1.0; } }
@keyframes flipPrev { 0% { transform: translateX(-18px); opacity: 0.0; } 100% { transform: translateX(0); opacity: 1.0; } }
.flip-next { animation: flipNext 220ms ease-out; }
.flip-prev { animation: flipPrev 220ms ease-out; }

/* ---- 힌트/탭 ---- */
.hint {
  margin: 8px 0 10px 0;          /* ✅ 수정 */
  padding: 10px 12px;
  border-radius: 14px;
  background: rgba(255,255,255,0.75);
  border: 1px solid rgba(0,0,0,0.06);
  font-weight: 800;
  color: #4a3f35;
}

.page-tab {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 74px;
  height: 96px;
  border-radius: 18px;
  background: rgba(255,255,255,0.70);
  border: 1px solid rgba(0,0,0,0.10);
  box-shadow: 0 10px 22px rgba(0,0,0,0.10);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-weight: 900;
  cursor: pointer;
  user-select: none;
  z-index: 7;
}
.canvas-page-nav{
  background: #fff;          /* ✅ 뒤 배경 완전 흰색 */
  border-radius: 18px;
  padding: 10px;
  box-shadow: 0 12px 28px rgba(0,0,0,0.12);
}
.react-canvas-draw canvas.grid {
  display: none !important;
}

.page-tab{
  z-index: 20;                 /* 기존 z-index 7 보다 위로 */
  transition: transform .12s ease, box-shadow .12s ease;
}
.page-tab.left  { left: 16px;  right: auto; }
.page-tab.right { right: 16px; left: auto; }
.page-tab:hover{
  transform: translateY(-50%) scale(1.04);
  box-shadow: 0 14px 26px rgba(0,0,0,0.14);
}

/* ✅ 오른쪽(다음) 살짝 흔들림 */
@keyframes nudgeRight {
  0%,100% { transform: translateY(-50%) translateX(0); }
  50%     { transform: translateY(-50%) translateX(4px); }
}

/* ✅ 왼쪽(이전) 살짝 흔들림 */
@keyframes nudgeLeft {
  0%,100% { transform: translateY(-50%) translateX(0); }
  50%     { transform: translateY(-50%) translateX(-4px); }
}

.page-tab.right{ animation: nudgeRight 1.1s ease-in-out infinite; }
.page-tab.left{  animation: nudgeLeft  1.1s ease-in-out infinite; }


/* ✅ 클릭 영역 커서 */
.book-leftHit, .book-rightHit{ cursor: pointer; }
/* ✅ (중요) Vite 기본 #root 스타일(폭 제한/패딩) 남아있으면 강제 해제 */
#root{
  max-width: none !important;
  margin: 0 !important;
  padding: 0 !important;
  width: 100% !important;
}